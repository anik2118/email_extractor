from bs4 import BeautifulSoup
import time 
import requests
import email_scraper
url = [
    "almasryalyoum.com",
    "livescore.com",
    "coolmathgames.com",
    "bankbazaar.com",
    "malavida.com",
    "cuisineaz.com",
    "jiocinema.com",
    "flashscore.com",
    "op.gg",
    "fimela.com",
    "lachainemeteo.com",
    "soccerway.com",
    "mbc.net",
    "directoalpaladar.com",
    "slidesgo.com",
    "urdupoint.com",
    "olx.co.id",
    "mysmartprice.com",
    "mein-schoener-garten.de",
    "apkcombo.com",
    "truecaller.com",
    "opovo.com.br",
    "glosbe.com",
    "idokep.hu",
    "gutefrage.net",
    "tokubai.co.jp",
    "geoguessr.com",
    "dicio.com.br",
    "unian.net",
    "mathplayground.com",
    "espn.in",
    "index.hr",
    "downshiftology.com",
    "in.gr",
    "filmarks.com",
    "wordhippo.com",
    "thethao247.vn",
    "zedge.net",
    "onceuponachef.com",
    "deepai.org",
    "libertaddigital.com",
    "posta.com.tr",
    "vogue.mx",
    "smule.com",
    "dba.dk",
    "caradisiac.com",
    "tag24.de",
    "tutu.ru",
    "storm.mg",
    "lifo.gr",
    "elpais.com.co",
    "minitool.com",
    "prisjakt.nu",
    "bunte.de",
    "thethaiger.com",
    "thehealthsite.com",
    "car.gr",
    "nettiauto.com",
    "minhaconexao.com.br",
    "rakuten.tv",
    "movoto.com",
    "tvinsider.com",
    "24tv.ua",
    "naftemporiki.gr",
    "ratemyprofessors.com",
    "ahaber.com.tr",
    "parents.fr",
    "gingersoftware.com",
    "pluska.sk",
    "drudgereport.com",
    "liberoquotidiano.it",
    "olx.ba",
    "autotrader.ca",
    "metric-conversions.org",
    "healthshots.com",
    "cruisecritic.com",
    "fmworld.net",
    "tengrinews.kz",
    "notretemps.com",
    "nutritionix.com",
    "yardbarker.com",
    "novosti.rs",
    "la7.it",
    "spotrac.com",
    "daily.co.jp",
    "boostmobile.com",
    "mahindra.com",
    "cricketwireless.com",
    "hltv.org",
    "vietstock.vn",
    "wps.com",
    "rmf24.pl",
    "prepscholar.com",
    "goldprice.org",
    "kan.org.il",
    "magicmaman.com",
    "hemnet.se",
    "vozpopuli.com",
    "advfn.com",
    "hmetro.com.my",
    "justonecookbook.com",
    "13tv.co.il",
    "qdnd.vn",
    "elgoog.im",
    "prepostseo.com",
    "forsal.pl",
    "forumfree.it",
    "wallstreetmojo.com",
    "infoescola.com",
    "whatcar.com",
    "looper.com",
    "businesstoday.com.tw",
    "sinarharian.com.my",
    "barbend.com",
    "elconfidencialdigital.com",
    "gamestar.de",
    "gratka.pl",
    "afreecatv.com",
    "informador.mx",
    "nikkan-gendai.com",
    "computerhoy.com",
    "apartmentratings.com",
    "heraldodemexico.com.mx",
    "vox.de",
    "iplocation.net",
    "telva.com",
    "noticiasaominuto.com",
    "wp.de",
    "meteoconsult.fr",
    "gamecity.ne.jp",
    "thechive.com",
    "fashionbeans.com",
    "newsweek.pl",
    "natemat.pl",
    "ccm.net",
    "prensalibre.com",
    "isitdownrightnow.com",
    "lamenteesmaravillosa.com",
    "informacion.es",
    "wikihow.it",
    "citizen.co.za",
    "connectionsgame.org",
    "tvb.com",
    "fluentu.com",
    "vegas.com",
    "gesundheit.de",
    "wpx.jp",
    "nigella.com",
    "elheraldo.co",
    "vandale.nl",
    "englishclub.com",
    "moviefone.com",
    "cartacapital.com.br",
    "warcraftlogs.com",
    "a-z-animals.com",
    "mediafax.ro",
    "malaysiakini.com",
    "iprofesional.com",
    "meteo.imgw.pl",
    "news.ru",
    "therichest.com",
    "bayt.com",
    "fxempire.com",
    "visaguide.world",
    "plarium.com",
    "soompi.com",
    "101cookbooks.com",
    "ostrovok.ru",
    "hiphopdx.com",
    "televisa.com",
    "siol.net",
    "emojis.wiki",
    "tennis.com",
    "babypips.com",
    "uk.advfn.com",
    "pch.com",
    "ril.com",
    "carbuzz.com",
    "topspeed.com",
    "sinchew.com.my",
    "lalsace.fr",
    "definitions.net",
    "laopinion.com",
    "azby.fmworld.net",
    "wordnik.com",
    "iaai.com",
    "cnn.co.jp",
    "utusan.com.my",
    "guru3d.com",
    "radio.net",
    "wate.com",
    "Ziare.com",
    "Nordjyske.dk",
    "diffen.com",
    "vtwonen.nl",
    "owlcation.com",
    "proceso.com.mx",
    "filmaga.filmarks.com",
    "greenme.it"
]

list_of_printed_cars=[]
for url in url:
    try:
        search_query=f'https://{url}'
        result_urls=[search_query]
        print(url)
        html2=requests.get(search_query)
        time.sleep(1)
        soup2=BeautifulSoup(html2.content, 'html.parser')
        try:
            # Find all the links inside the sub-menu
            sub_menu_links = soup2.find_all("a")
            # Print the links
            for link in sub_menu_links:
                anik=(link.get("href"))
                if search_query not in result_urls:
                    continue
                elif anik in result_urls:
                    continue
                elif any(substring in str(anik) for substring in ["contact","about"]) and all(substring in str(anik)for substring in[url]):
                    result_urls.append(str(anik))
                else:
                    continue
            print(result_urls)
            try:
                time.sleep(2)
                email_scraper.final(result_urls,url,list_of_printed_cars)

            except:
                print("not going to final")
        except :
            continue
    except:
        time.sleep(5)
        continue
      
